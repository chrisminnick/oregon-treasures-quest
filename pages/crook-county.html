<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Explore Oregon's hidden gems with the 2025 Oregon Treasures Quest, a county-by-county guide to must-see attractions across the state." />
  <meta name="theme-color" content="#00363b" />
  <title>Crook County - 2025 Oregon Treasures Quest</title>
  <link rel="preconnect" href="https://maps.googleapis.com" />
  <link rel="dns-prefetch" href="https://maps.googleapis.com" />
  <link rel="manifest" href="../manifest.json" />
  <link rel="stylesheet" href="../styles.css" />
  <style>
    #page-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #00363b;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.3s ease-out;
    }
    #page-loader.loaded {
      opacity: 0;
      pointer-events: none;
    }
    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top-color: #ffffff;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body class="bg-gray-50">
  <div id="page-loader">
    <div class="spinner"></div>
  </div>

  <nav class="bg-white shadow-md sticky top-0 z-50" aria-label="Main navigation">
    <div class="content-wrapper px-4 py-3">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
        <div class="flex items-center">
          <a href="../index.html" class="text-primary hover:text-secondary font-semibold text-lg" aria-label="Home">
            üè† 2025 Oregon Treasures Quest
          </a>
        </div>
        
        <div class="flex items-center">
          <select onchange="if(this.value) window.location.href=this.value" class="px-4 py-2 border border-gray-300 rounded bg-white text-gray-800 text-sm font-medium cursor-pointer hover:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary" aria-label="Navigate to page">
            <option value="">Jump to Page...</option>
            
            <option value="baker-county.html" >
              Baker County
            </option>
            <option value="benton-county.html" >
              Benton County
            </option>
            <option value="clackamas-county.html" >
              Clackamas County
            </option>
            <option value="clatsop-county.html" >
              Clatsop County
            </option>
            <option value="columbia-county.html" >
              Columbia County
            </option>
            <option value="coos-county.html" >
              Coos County
            </option>
            <option value="crook-county.html" selected>
              Crook County
            </option>
            <option value="curry-county.html" >
              Curry County
            </option>
            <option value="deschutes-county.html" >
              Deschutes County
            </option>
            <option value="douglas-county.html" >
              Douglas County
            </option>
            <option value="gilliam-county.html" >
              Gilliam County
            </option>
            <option value="grant-county.html" >
              Grant County
            </option>
            <option value="harney-county.html" >
              Harney County
            </option>
            <option value="hood-river-county.html" >
              Hood River County
            </option>
            <option value="jackson-county.html" >
              Jackson County
            </option>
            <option value="jefferson-county.html" >
              Jefferson County
            </option>
            <option value="josephine-county.html" >
              Josephine County
            </option>
            <option value="klamath-county.html" >
              Klamath County
            </option>
            <option value="lake-county.html" >
              Lake County
            </option>
            <option value="lane-county.html" >
              Lane County
            </option>
            <option value="lincoln-county.html" >
              Lincoln County
            </option>
            <option value="linn-county.html" >
              Linn County
            </option>
            <option value="malheur-county.html" >
              Malheur County
            </option>
            <option value="marion-county.html" >
              Marion County
            </option>
            <option value="morrow-county.html" >
              Morrow County
            </option>
            <option value="multnomah-county.html" >
              Multnomah County
            </option>
            <option value="polk-county.html" >
              Polk County
            </option>
            <option value="sherman-county.html" >
              Sherman County
            </option>
            <option value="tillamook-county.html" >
              Tillamook County
            </option>
            <option value="umatilla-county.html" >
              Umatilla County
            </option>
            <option value="union-county.html" >
              Union County
            </option>
            <option value="wallowa-county.html" >
              Wallowa County
            </option>
            <option value="wasco-county.html" >
              Wasco County
            </option>
            <option value="washington-county.html" >
              Washington County
            </option>
            <option value="wheeler-county.html" >
              Wheeler County
            </option>
            <option value="yamhill-county.html" >
              Yamhill County
            </option>
          </select>
        </div>
      </div>
    </div>
  </nav>

  <nav class="content-wrapper px-4 py-3 text-sm" aria-label="Breadcrumb">
    <ol class="flex items-center space-x-2 text-gray-600">
      <li>
        <a href="../index.html" class="hover:text-secondary">Home</a>
      </li>
      <li class="flex items-center">
        <span class="mx-2">/</span>
        <span class="text-gray-800 font-semibold">Crook County</span>
      </li>
    </ol>
  </nav>

<main class="content-wrapper px-4 py-6">
  <article class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
    <div class="bg-primary page-header bg-gradient-to-r from-primary to-secondary text-white p-6 md:p-8">
      <h1 class="text-3xl md:text-4xl font-bold mb-2">
        Crook County
      </h1>
      <p class="text-xl md:text-2xl opacity-90">
        Explore the Ochoco Forest Mines
      </p>
    </div>

    
    <div class="page-image">
      <img
        src="../images/Image_027.jpg"
        alt="Abandoned mines at Ochoco National Forest"
        class="w-full h-auto"
        fetchpriority="high"
        decoding="async"
      />
      <p class="text-sm text-gray-600 italic px-6 py-2 bg-gray-50">Abandoned mines at the Ochoco National Forest in Crook County. (Source: Gary Halvorson, Oregon State Archives)</p>
    </div>
    

    
    <div class="primary-content p-6 md:p-8">
      <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
        Explore the Ochoco Forest Mines
      </h2>
      <div class="text-gray-700 leading-relaxed space-y-4">
        <p>The mining history of Crook County is hidden in the hills of the Ochoco National Forest. Once over 1,000 mines bore gold, thundereggs, and cinnabar throughout the Ochocos, but only a few are left in operation today. However, you can still explore many of the abandoned mines today on trails throughout the Lookout Mountain area, including Blue Ridge Mine, the Mother Lode Mine, and the Independent Mine. And to immerse yourself in the history of the mining operations in this area known as the "Cowboy Capital of Oregon," trek the shorter interpretive Baneberry Trail for a fun side adventure.</p>
      </div>
    </div>
    

    
    <div class="additional-content bg-gray-50 p-6 md:p-8 border-t border-gray-200">
      <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-4">
        You May Also Want to Explore...
      </h3>
      <ul class="space-y-3">
        
        <li class="flex items-start">
          <span class="text-secondary mr-2">¬∑</span>
          <div>
            <a href="https://www.fs.usda.gov/recarea/ochoco/recarea/?recid=38758" target="_blank" rel="noopener" class="text-secondary hover:underline font-semibold">Steins Pillar Trailhead</a>
          </div>
        </li>
        
        <li class="flex items-start">
          <span class="text-secondary mr-2">¬∑</span>
          <div>
            <a href="https://crookcountyhistorycenter.org/" target="_blank" rel="noopener" class="text-secondary hover:underline font-semibold">Bowman Museum</a>
          </div>
        </li>
        
        <li class="flex items-start">
          <span class="text-secondary mr-2">¬∑</span>
          <div>
            <a href="https://www.blm.gov/visit/lower-crooked-river-back-country-byway" target="_blank" rel="noopener" class="text-secondary hover:underline font-semibold">Lower Crooked River Back Country Byway</a>
          </div>
        </li>
        
      </ul>
    </div>
    

    
    <div class="more-info p-6 md:p-8 bg-primary text-white">
      <h3 class="text-xl font-bold mb-3">More Information</h3>
      <p class="leading-relaxed">
        For more information: Visit <a href="http://fs.usda.gov/ochoco" target="_blank" rel="noopener" class="underline hover:text-gray-300">fs.usda.gov/ochoco</a> and search "Baneberry Trail"
      </p>
      
    </div>
    

    
    <div class="qr-code p-6 md:p-8 bg-gray-50 border-t border-gray-200 text-center">
      <img src="../qr-codes/2025-oregon-treasures-quest-custom-qr.png" alt="QR Code for Crook County" class="mx-auto w-64 h-64" width="256" height="256" loading="lazy" decoding="async" />
      
    </div>
    
  </article>

  
  <!-- Map Section -->
  <section class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
    <div id="map-container" style="height: 400px; width: 100%;"></div>
  </section>
  

  <div class="text-center py-6 text-gray-600">
    <p class="mb-2">Use the dropdown menu above to jump to another page</p>
    <a href="../index.html" class="inline-block px-6 py-3 bg-secondary text-white rounded-lg hover:bg-opacity-90 transition-colors font-semibold">
      ‚Üê Back to All Pages
    </a>
  </div>
</main>


  <script>
    async function initMap() {
      const mapContainer = document.getElementById('map-container');
      
      // Check if offline first - before loading any Google Maps code
      if (!navigator.onLine) {
        mapContainer.innerHTML = `
          <div style="text-align: center; padding: 40px 20px;">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin: 0 auto 16px; color: #9ca3af;">
              <path d="M1 1l22 22M16.72 11.06A10.94 10.94 0 0 1 19 12.55M5 12.55a10.94 10.94 0 0 1 5.17-2.39M10.71 5.05A16 16 0 0 1 22.58 9M1.42 9a15.91 15.91 0 0 1 4.7-2.88M8.53 16.11a6 6 0 0 1 6.95 0M12 20h.01"></path>
            </svg>
            <h3 style="margin: 0 0 8px; font-size: 18px; font-weight: 600; color: #374151;">No Internet Connection</h3>
            <p style="margin: 0; color: #6b7280; font-size: 14px;">The map is not available while offline.<br>Connect to the internet to view locations.</p>
          </div>
        `;
        return;
      }

      // Load Google Maps API dynamically only when online
      if (!window.google || !window.google.maps) {
        await new Promise((resolve, reject) => {
          (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.googleapis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
            key: "AIzaSyBjy8jrq0thxr3_lKfykb7LV1cVz2TBBwc",
            v: "weekly",
          });
          // Wait a bit for the loader to initialize
          setTimeout(resolve, 100);
        });
      }

      const locations = [{ lat: 44.2919, lng: -120.2544, title: "Crook County", url: "crook-county.html" }];

      if (locations.length === 0) return;

      try {
        // Load required libraries
        const { Map, InfoWindow } = await google.maps.importLibrary("maps");
      const { AdvancedMarkerElement } = await google.maps.importLibrary("marker");

      
      // Single page map - center on location
      const map = new Map(document.getElementById('map-container'), {
        center: { lat: locations[0].lat, lng: locations[0].lng },
        zoom: 12,
        mapId: 'wayfinder-map'
      });

      // Add single marker
      const marker = new AdvancedMarkerElement({
        map: map,
        position: { lat: locations[0].lat, lng: locations[0].lng },
        title: locations[0].title
      });
      
      } catch (error) {
        console.error('Map loading error:', error);
        const mapContainer = document.getElementById('map-container');
        mapContainer.innerHTML = `
          <div style="text-align: center; padding: 40px 20px;">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin: 0 auto 16px; color: #9ca3af;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="8" x2="12" y2="12"></line>
              <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
            <h3 style="margin: 0 0 8px; font-size: 18px; font-weight: 600; color: #374151;">Map Unavailable</h3>
            <p style="margin: 0; color: #6b7280; font-size: 14px;">The map could not be loaded at this time.<br>Please check your internet connection.</p>
          </div>
        `;
      }
    }

    // Defer map initialization until after page load
    if (document.readyState === 'loading') {
      window.addEventListener('DOMContentLoaded', initMap);
    } else {
      // Use requestIdleCallback for better performance, fallback to setTimeout
      if ('requestIdleCallback' in window) {
        requestIdleCallback(initMap);
      } else {
        setTimeout(initMap, 1);
      }
    }
  </script>

  <script>
    // Hide loading spinner when page is ready
    function hideLoader() {
      const loader = document.getElementById('page-loader');
      if (loader) {
        loader.classList.add('loaded');
        setTimeout(() => loader.remove(), 300);
      }
    }
    
    if (document.readyState === 'loading') {
      window.addEventListener('DOMContentLoaded', hideLoader);
    } else {
      hideLoader();
    }
  </script>
  <script>
    // Register service worker for offline support
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then((registration) => {
            console.log('Service Worker registered:', registration.scope);
          })
          .catch((error) => {
            console.log('Service Worker registration failed:', error);
          });
      });
    }

    // Show notification when going offline/online
    function showConnectionStatus(isOnline) {
      const existingNotice = document.getElementById('connection-notice');
      if (existingNotice) existingNotice.remove();

      const notice = document.createElement('div');
      notice.id = 'connection-notice';
      notice.style.cssText = `
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: ${isOnline ? '#10b981' : '#f59e0b'};
        color: white;
        padding: 12px 24px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        z-index: 10000;
        font-size: 14px;
        font-weight: 500;
        animation: slideDown 0.3s ease-out;
      `;
      notice.textContent = isOnline 
        ? '‚úì Back online' 
        : '‚ö† You're offline - some features may be limited';
      
      document.body.appendChild(notice);
      
      setTimeout(() => {
        notice.style.animation = 'slideUp 0.3s ease-out';
        setTimeout(() => notice.remove(), 300);
      }, isOnline ? 2000 : 5000);
    }

    window.addEventListener('online', () => showConnectionStatus(true));
    window.addEventListener('offline', () => showConnectionStatus(false));

    // Add CSS animations
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideDown {
        from { transform: translateX(-50%) translateY(-100%); opacity: 0; }
        to { transform: translateX(-50%) translateY(0); opacity: 1; }
      }
      @keyframes slideUp {
        from { transform: translateX(-50%) translateY(0); opacity: 1; }
        to { transform: translateX(-50%) translateY(-100%); opacity: 0; }
      }
    `;
    document.head.appendChild(style);
  </script>
  <footer class="bg-primary text-white mt-12">
    <div class="content-wrapper px-4 py-8">
      <div class="text-center">
        <p class="mb-2">2025 Oregon Treasures Quest</p>
        <p class="text-sm opacity-75">Explore Oregon's hidden gems with the 2025 Oregon Treasures Quest, a county-by-county guide to must-see attractions across the state.</p>
      </div>
    </div>
  </footer>
</body>
</html>